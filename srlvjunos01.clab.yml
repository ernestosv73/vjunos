name: srlvjunos01

topology:
  nodes:
    srl:
      kind: nokia_srlinux
      image: ghcr.io/nokia/srlinux:23.10.1
      type: ixrd3
      startup-config: srl.cli
   
    router1:
      kind: linux
      image: quay.io/frrouting/frr:8.4.1
      binds:
        - router1/daemons:/etc/frr/daemons
        - router1/frr.conf:/etc/frr/frr.conf
      exec:
       - "sysctl -w net.ipv6.conf.all.forwarding=1"
       - ip -6 route del default dev eth0 
       
    PC1:
      kind: linux
      image: docker.io/esanchezv/kaliipv6v2.1:latest
      exec:
      - ip -6 route del default dev eth0  

    vswitch:
      kind: juniper_vjunosswitch
      image: vrnetlab/vr-vjunosswitch:23.1R1.8
      startup-config: vjunos.cfg

  links:
    - endpoints: ["srl:e1-1", "vswitch:eth1"]
    - endpoints: ["router1:eth1", "vswitch:eth2"]
    - endpoints: ["PC1:eth1", "vswitch:eth3"]
